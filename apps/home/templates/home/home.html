{% extends 'base.html' %}
{% load static %}

{% load leaflet_tags %}
{% load home_extras %}
{% block head %}
  {% leaflet_css %}
{% endblock %}
{% block content %}
    <h1 class="display-4 mb-5 text-center">Station météorologique de l'UQÀM</h1>

  {% leaflet_map "map" callback="window.map_init_basic" %}

  <h1 class=" mt-4 ">Données instantanées</h1>
  <hr class="my-4">
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Température:</p></div>
    <div class="col-sm-4">{{ dataset.temperature }} °C</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Température ressentie:</p></div>
    <div class="col-sm-4">{{ dataset.chill }} °C</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Date:</p></div>
    <div class="col-sm-4">{{ dataset.Temps | get_datetime}}</div>
  </div>
  <hr class="my-4">
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Élévation:</p></div>
    <div class="col-sm-4">80 m</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Pression:</p></div>
    <div class="col-sm-4">{{ dataset | get_key:'pressure station' }} hPa</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Pression au niveau de la mer:</p></div>
    <div class="col-sm-4">{{ dataset.slp }} hPa</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Température du point de rosée:</p></div>
    <div class="col-sm-4">{{ dataset | get_key:'dew point' }} °C</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Refroidissement éolien:</p></div>
    <div class="col-sm-4">{{ dataset.chill }} °C</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Humidité:</p></div>
    <div class="col-sm-4">{{ dataset.humidite }} %</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Direction du vent:</p></div>
    <div class="col-sm-4">{{ dataset.dir_wind }} °</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Module du vent:</p></div>
    <div class="col-sm-4">{{ dataset.mod_wind }} km/h</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Précipitation cumulée sur les dernières 24h:</p></div>
    <div class="col-sm-4">{{ dataset.precip1 }} mm</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Précipitation cumulée sur les 3 derniers jours: </p></div>
    <div class="col-sm-4">{{ dataset.precip2 }} mm</div>
  </div>
  <div class="row">
    <div class="col-sm-4"><p class="display-data">Précipitation cumulée sur les 7 derniers jours:</p></div>
    <div class="col-sm-4 mb-5">{{ dataset.precip3 }} mm</div>
  </div>
{% endblock %}
{% block scripts %}
  {% leaflet_js %}
  <script src="{% static 'home/js/home.js' %}"></script>
{% endblock %}

